<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
<head>
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <link rel="stylesheet" href="/stylesheets/collection.css">
    <link rel="stylesheet" href="https://unpkg.com/dropzone/dist/dropzone.css" />
    <link href="https://unpkg.com/cropperjs/dist/cropper.css" rel="stylesheet"/>
    <script src="https://unpkg.com/dropzone"></script>
    <script src="https://unpkg.com/cropperjs"></script>
</head>
<body>
{{> navbar}}
<div class="container clearfix">
    {{#if pictures.length}}
        <ul>
        <div class="row">
            {{#each pictures}}
                    <div class="picture-block col-xl-4 col-md-4 col-sm-6 mx-auto">
                        <li>
                            <span><img class="img-fluid picture-of-collections" src="{{path}}"></span>
                        </li>
                    </div>

            {{/each}}
        </div>
        </ul>
    {{else}}
        <p>В этой коллекции нет ни одной картинки!</p>
    {{/if}}
    <input type="hidden" id="collectionId" value="{{collectionId}}">
    <a href="" class="btn btn-primary">
    <div class="button-container mx-auto">
        <form method="post">
                <label class="" for="upload_image">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35"
                     fill="currentColor"
                     class="bi bi-upload" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                </svg>
                <input type="file" name="foo" class="image" id="upload_image" style="display:none"/>
                <div class="overlay">
                    <div class="text">Добавить картинку в коллекцию</div>
                </div>
            </label>

        </form>
    </div>
    </a>
</div>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Crop Image Before Upload</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="img-container">
                    <div class="row">
                        <div class="col-md-8">
                            <img src="" id="sample_image" />
                        </div>
                        <div class="col-md-4">
                            <div class="preview"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="crop" class="btn btn-primary">Crop</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
{{>scripts}}
</body>
<script src="/javascripts/upload.js"></script>

</html>
